<%= form_with(model: user, local:true) do |f| %>
  <% if @user.errors.any? %>
    <div class="error_messages">
      <h2>Form is invalid</h2>
      <ul>
        <% for message in @user.errors.full_messages %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label 'Username: ' %>
    <%= f.text_field :username %>
  </div>
  <div class="field">
    <%= f.label 'Email: ' %>
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label 'Password: ' %>
    <%= f.password_field :password %>
  </div>
  <div class="field">
    <%= f.label 'Confirm Password: ' %>
    <%= f.password_field :password_confirmation %>
  </div>
  <div class="field">
    <%= f.label 'Zipcode: ' %>
    <%= f.number_field :zipcode %>
  </div>
  <div class="field">
    <%= f.label 'Age: ' %>
    <%= f.number_field :age %>
  </div>
  <div class="field">
    <%= f.label 'Gender: ' %>
    <%= f.text_field :gender %>
  </div>
  <div class="field">
    <%= f.label 'About: ' %>
    <%= f.text_field :bio %>
  </div>
  <div class="field">
    <%= f.label 'Profile Picture: ' %>
    <p>(We resize our images so a square is recomended!)
    <%= f.file_field :image %>
  </div>
  <div class="field">
    <%= f.label 'Favorite Editions: ' %> 
    <br>
    <% @editions.each do |edition| %>
      <%= edition.name %>
      <%= check_box_tag 'editions[]', edition.id, (current_user ? current_user.editions.exists?(edition.id) : false) %> 
      <br>
    <% end %>
  </div>
  <div class="field">
    <%= f.label 'Favorite Classes: ' %>
    <br>
    <% @roles.each do |role| %>
      <%= role.name %>
      <%= check_box_tag 'roles[]', role.id, (current_user ? current_user.roles.exists?(role.id) : false) %>
      <br>
    <% end %>
  </div>
  <div class="actions"><%= f.submit %></div>
<% end %>